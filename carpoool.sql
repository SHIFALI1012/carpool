
create database poolcar;
use poolcar;
CREATE TABLE users (id INTEGER PRIMARY KEY,username VARCHAR(255) NOT NULL,role VARCHAR(50) NOT NULL,email VARCHAR(255) UNIQUE NOT NULL,password VARCHAR(255) NOT NULL);
INSERT INTO users (id, username, role, email, password) VALUES(1, 'Shifali', 'ride_giver', 'shif@gmail.com', 'shiff1');
INSERT INTO users (id, username, role, email, password) VALUES(2, 'Thansi', 'passenger', 'thansi@gmail.com ', 'tahnsi2');
INSERT INTO users (id, username, role, email, password) VALUES(3, 'Nigha', 'ride_giver', 'niga@gmail.com', 'niga3');
INSERT INTO users (id, username, role, email, password) VALUES(4, 'Grace', 'passenger', 'grace@gmail.com', 'garce1');
INSERT INTO users (id, username, role, email, password) VALUES(5, 'Sethu', 'passenger', 'sethu@gmail.com', 'sethu23');
select * from users;
CREATE TABLE ride (ride_id INTEGER PRIMARY KEY,ride_giver_id INTEGER NOT NULL,origin VARCHAR(255) NOT NULL,destination VARCHAR(255) NOT NULL,departure TIMESTAMP NOT NULL,available_seats INTEGER NOT NULL CHECK (available_seats >= 0),FOREIGN KEY (ride_giver_id) REFERENCES users(id) ON DELETE CASCADE);
INSERT INTO ride (ride_id, ride_giver_id, origin, destination, departure, available_seats) VALUES(21, 1, 'Mumbai', 'Kolkata', '2025-05-06 06:00:00', 4);
INSERT INTO ride (ride_id, ride_giver_id, origin, destination, departure, available_seats) VALUES(22, 3, 'Banglore', 'Mysore', '2025-04-02 10:30:00', 3);
INSERT INTO ride (ride_id, ride_giver_id, origin, destination, departure, available_seats) VALUES(23, 1, 'dubai', 'india', '2025-06-09 08:00:00', 4);
INSERT INTO ride (ride_id, ride_giver_id, origin, destination, departure, available_seats) VALUES(24, 3, 'delhi', 'kashmir', '2025-04-04 15:15:00', 1);
INSERT INTO ride (ride_id, ride_giver_id, origin, destination, departure, available_seats) VALUES(25, 1, 'pune', 'thane', '2025-05-05 20:45:00', 2);
select * from ride;
CREATE TABLE Booking (booking_id INTEGER PRIMARY KEY,ride_id INTEGER NOT NULL,passenger_id INTEGER NOT NULL,booking_datetime TIMESTAMP DEFAULT CURRENT_TIMESTAMP,status VARCHAR(50) NOT NULL CHECK (status IN ('Confirmed', 'Cancelled', 'Pending')),FOREIGN KEY (ride_id) REFERENCES ride(ride_id) ON DELETE CASCADE,FOREIGN KEY (passenger_id) REFERENCES users(id) ON DELETE CASCADE);
INSERT INTO Booking (booking_id, ride_id, passenger_id, booking_datetime, status) VALUES(31, 21, 2, '2025-02-20 10:00:00', 'Confirmed');
INSERT INTO Booking (booking_id, ride_id, passenger_id, booking_datetime, status) VALUES(32, 21, 4, '2025-02-21 11:30:00', 'Pending');
INSERT INTO Booking (booking_id, ride_id, passenger_id, booking_datetime, status) VALUES(33, 22, 5, '2025-02-22 12:45:00', 'Confirmed');
INSERT INTO Booking (booking_id, ride_id, passenger_id, booking_datetime, status) VALUES(34, 24, 2, '2025-02-23 14:00:00', 'Cancelled');
INSERT INTO Booking (booking_id, ride_id, passenger_id, booking_datetime, status) VALUES(35, 25, 4, '2025-02-24 15:15:00', 'Confirmed');
select * from Booking;
CREATE TABLE Payment (payment_id INTEGER PRIMARY KEY,booking_id INTEGER NOT NULL,amount DECIMAL(10,2) NOT NULL CHECK (amount >= 0),payment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,FOREIGN KEY (booking_id) REFERENCES Booking(booking_id) ON DELETE CASCADE);
INSERT INTO Payment (payment_id, booking_id, amount, payment_date) VALUES(15, 31, 45.00, '2025-02-20 10:30:00');
INSERT INTO Payment (payment_id, booking_id, amount, payment_date) VALUES(16, 33, 50.50, '2025-02-22 13:00:00');
INSERT INTO Payment (payment_id, booking_id, amount, payment_date) VALUES(17, 35, 80.00, '2025-02-24 15:45:00');
INSERT INTO Payment (payment_id, booking_id, amount, payment_date) VALUES(18, 31, 90.75, '2025-02-20 10:35:00');
